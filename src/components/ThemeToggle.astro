---
import { Sun, Moon } from "@lucide/astro";
---

<button
  class="border-none bg-none focus:outline-2 focus:outline-offset-2 focus:outline-neutral-900 dark:focus:outline-neutral-100"
  id="themeToggle"
  aria-label="Theme Toggle"
>
  <Sun
    class="stroke-neutral-900 transition-colors duration-150 ease-in-out motion-reduce:transition-none dark:hidden dark:stroke-transparent"
  />
  <Moon
    class="hidden stroke-transparent transition-colors duration-150 ease-in-out motion-reduce:transition-none dark:block dark:stroke-neutral-100"
  />
</button>

<script is:inline>
  const handleToggleClick = () => {
    const element = document.documentElement;
    element.classList.toggle("dark");

    const isDark = element.classList.contains("dark");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  };

  document
    .getElementById("themeToggle")
    ?.addEventListener("click", handleToggleClick);
</script>
